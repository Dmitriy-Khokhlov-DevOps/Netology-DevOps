Домашнее задание к занятию 1. «Введение в виртуализацию»

Задача 1.
=========
Создал ВМ на Yandex.Cloud, удаленно подключился. Изучил состав образа.


Задача 2.
=========
1) Для высоконагруженной базы данных MySql, критичной к отказу, я бы создал кластер либо из физических серверов либо использовал виртуализацию уровня ОС (типа LXC в Proxmox, но не Docker) из виртуальных машин, размещенных на разных физических серверах, чтобы единой точки отказа не было. Паравиртуализация сама по себе отнимает ресурсы у сервера, а база высоконагруженная, выгоднее использовать все ресурсы сервера.
=========
2) Для различных web-приложений можно использовать виртуализацию уровня ОС, посколько можно на одном сервере быстро размещать большое количество контейнеров для конкретной задачи (web), быстро в носить изменения в приложения и быстро собирать все в контейнер, при этом контейнеризация практически не потребляет ресурсов в отличие от паравиртуализации.
=========
3) Для Windows-системы для использования бухгалтерским отделом я бы просто использовал физический сервер в организации. Тут не нужно усложнять. Просто копировать каждый день (или чаще) в автоматическом режиме базы данных (вполне подходит PostgreSQL) на отдельный сервер (или в несколько мест). Если что-то случится с основным сервером, можно быстро развернуть систему на другом компьютере, установить резервные лицензии 1С и продолжать работать. Можно использовать облако, типа 1CFresh, но получается не очень дешево, если много пользоваетелй 1С в организации. К тому же 1CFresh  предлагает ограниченное число конфигураций.
=========
4) Для систем, выполняющих высокопроизводительные расчёты на GPU, я думаю, в зависимости от задач, когда-то выгоднее использовать физические серверы (например, майнинговые фермы), а когда-то виртуальные машины с предоставлением доступа к vGPU необходимой мощности. Специализированые GPU стоят дорого и, если делать физический сервер с несколькими GPU и не нагружать его постоянно (какие то специализированныне расчеты), то может быть не выгодно использовать физические серверы. Тут нужно все посчитать перед выбором.


Задача 3.
=========
Сценарий 1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

Ответ: Для этой задачи, по моему мнению, хорошо подходит VMware vSphere. Есть и балансировка и репликация, можно делать резевные копии, удобное управление таким большим парком машин.
=========
Сценарий 2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

Ответ: Я бы решил это на базе Proxmox. Удобное управление через веб-консоль и терминал. Есть паравиртуальные драйверы для Windows. Можно использовать как виртуальные машины с любой ОС, так и контейнеры Linux. Можно сделать отказоустойчивый кластер из серверов. Для бэкапов с дедупликацией можно использовать серверы Proxmox Backup Server.
=========
Сценарий 3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.

Ответ: Тут лучше всего подошел бы Hyper-V Server 2019. Он бесплатен, заточен под виртуализацию Windows, им можно управлять с помощью различных программ. Но официальная поддержка этого продукта уже закончилась. Можно использовать XEN Server либо Proxmox (как в Сценарии 2). У обоих есть паравиртуальные драйверы для Windows, можно делать резервые копии и репликацию.
=========
Сценарий 4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Ответ: Для разработки и тестирования приложений подходит в этом случае виртуализация уровня ОС (платформы для разработки, доставки и запуска приложений Docker и Podman). Например, на нескольких серверах можно развернуть разные версии Linux. И уже в этих операционых системах установить Docker или Podman. Можно быстро настраивать конфигурации контейнеров с помощью систем управления типа Ansible.
=========


Задача 4.
=========
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?
=========
Ответ: Я бы старался не использовать систем управления виртуализацией одновременно по следующим причинам:
- неудобство администрирования (разные панели управления гипервизорами)
- неудобно переносить виртуальные машины между разными гипервизорами
- недостаточная отказоустойчивость всей системы (невозможно сделать кластер между разными гипервизорами)
- необходимо решать проблемы сразу с несколькими продуктами, т.е. обладать достаточными знаниями сразу о нескольких гипервизорах
- невозможно организовать единые серверы архивиации ВМ
=========
